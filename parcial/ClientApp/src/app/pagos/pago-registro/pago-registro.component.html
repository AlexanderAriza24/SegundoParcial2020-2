<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h2>Registro de Pagos</h2>
            <br><br>
        </div>
        <div class="col-12">
            <form class="form-inline">
                <div class="mx-sm-3">
                    <label>Consultar Tercero</label>
                </div>
                <div class="form-group mx-sm-3">
                    <input type="text" class="form-control" name="consultar" [(ngModel)]="searchText" placeholder="Consultar">
                </div>
                <div>
                    <button class="btn btn-primary mr-1" (click)="consultar()">Consultar</button>
                </div>
            </form>
        </div>
        <div class="col-md-6 offset-md-3">
            <br><br>
            <form [formGroup]="formGroup">

                <div class="form-group">
                    <label>Identificación del Tercero</label>
                    <input type="text" class="form-control" name="identificacion" formControlName="identificacion"
                    [ngClass]="{ 'is-invalid':  controlPago.identificacion.touched && controlPago.identificacion.errors }" >
                    <div *ngIf=" controlPago.identificacion.errors" class="invalid-feedback">
                        <div *ngIf="controlPago.identificacion.errors.required">La Identificación es requerida</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Tipo de Pago</label>
                    <div class="form-inline">
                        <select id="tipoPago" name="tipoPago" formControlName="tipoPago" class="form-control" [ngClass]="{'is-invalid': controlPago.tipoPago.errors && formGroup.get('tipoPago').touched}">
                            <option value="">Seleccione una Opcion </option>
                            <option value="Gastos Administrativos">Gastos Administrativos</option>
                            <option value="Gastos Financieros">Gastos Financieros</option>
                            <option value="Gastos Legales">Gastos Legales</option>
                            <option value="Gastos de Viajes y transporte">Gastos de Viajes y transporte</option>
                            <option value="Honorarios">Honorarios</option>
                            <option value="Arrendamiento">Arrendamiento</option>
                            <option value="Impuestos y retenciones">Impuestos y retenciones</option>
                          </select>
                          <div *ngIf="controlPago.tipoPago.errors && formGroup.get('tipoPago').touched" class="invalid-feedback">
                            <div *ngIf="controlPago.tipoPago.errors.required">El Tipo de Pago es requerido</div>                        
                        </div> 
                    </div>                  
                </div>

                <div class="form-group">
                    <label >Fecha:</label>
                    <input type="date" class="form-control"
                     formControlName="fecha" [ngClass]="{'is-invalid':controlPago.fecha.touched && controlPago.fecha.errors}">
                    <div *ngIf="controlPago.fecha.errors" class="invalid-feedback">
                        <div *ngIf="controlPago.fecha.errors.required">Se require la fecha del pago</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Valor del Pago</label>
                    <input type="number" class="form-control" name="valorPago" formControlName="valorPago"
                    [ngClass]="{ 'is-invalid':  controlPago.valorPago.touched && controlPago.valorPago.errors }" >
                    <div *ngIf=" controlPago.valorPago.errors" class="invalid-feedback">
                        <div *ngIf="controlPago.valorPago.errors.required">El Valor del Pago es requerido</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Valor del IVA</label>
                    <input type="number" class="form-control" name="valorIva" formControlName="valorIva"
                    [ngClass]="{ 'is-invalid':  controlPago.valorIva.touched && controlPago.valorIva.errors }" >
                    <div *ngIf=" controlPago.valorIva.errors" class="invalid-feedback">
                        <div *ngIf="controlPago.valorIva.errors.required">El Valor del IVA es requerido</div>
                    </div>
                </div>

                <div class="text-center">
                    <button class="btn btn-primary mr-1" (click)="onSubmit()" [disabled]="formGroup.invalid">Registrar</button>
                    <button class="btn btn-secondary" type="reset">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
</div>